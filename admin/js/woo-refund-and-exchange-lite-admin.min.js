jQuery(document).ready((function(){jQuery("#wrael-datatable").DataTable({stateSave:!0,dom:'<"wps-dt-buttons"fB>tr<"bottom"lip>',ordering:!0,buttons:["copyHtml5","excelHtml5","csvHtml5"],language:{lengthMenu:"Rows per page _MENU_",paginate:{next:'<svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M1.99984 0L0.589844 1.41L5.16984 6L0.589844 10.59L1.99984 12L7.99984 6L1.99984 0Z" fill="#8E908F"/></svg>',previous:'<svg width="8" height="12" viewBox="0 0 8 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M6.00016 12L7.41016 10.59L2.83016 6L7.41016 1.41L6.00016 -1.23266e-07L0.000156927 6L6.00016 12Z" fill="#8E908F"/></svg>'}}})})),jQuery((function(e){const a=mdc.textField.MDCTextField,r=([].map.call(document.querySelectorAll(".mdc-text-field"),(function(e){return new a(e)})),mdc.ripple.MDCRipple),s=([].map.call(document.querySelectorAll(".mdc-button"),(function(e){return new r(e)})),mdc.switchControl.MDCSwitch);[].map.call(document.querySelectorAll(".mdc-switch"),(function(e){return new s(e)}));e(document).find(".wps-defaut-multiselect").length>0&&e(document).find(".wps-defaut-multiselect").select2(),e("a[href='admin.php?page=woo_refund_and_exchange_lite_menu']").addClass("submenu-font-size-fix"),e(".wps-password-hidden").click((function(){"text"==e(".wps-form__password").attr("type")?e(".wps-form__password").attr("type","password"):e(".wps-form__password").attr("type","text")})),e(".wps_rma_order_statues").select2();var _=[];function i(){let a=[];e.each(e(".add_more_rma_policies"),(function(){var r=e(this).children(".wps_rma_on_functionality").val(),s=e(this).children(".wps_rma_settings").val(),_=new Object;_.name=r,_.value=s,a.push(_)})),a.forEach((function(e){var a=_.filter((function(a,r){return a.name==e.name}));if(a.length){var r=_.indexOf(a[0]);_[r].value=_[r].value.concat(e.value)}else"string"==typeof e.value&&(e.value=[e.value]),_.push(e)}))}function t(){e.each(e(".wps_rma_settings"),(function(){""==e(this).val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide()):"wps_rma_maximum_days"==e(this).val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide()):"wps_rma_order_status"==e(this).val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide()):"wps_rma_tax_handling"==e(this).val()&&(e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions_label").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_settings_label").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").show())}))}function o(e,a,r){return e.replace(new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"g"),r)}i(),t(),e(document).on("change",".wps_rma_settings, .wps_rma_on_functionality",(function(){var a=e(this).parent(".add_more_rma_policies").children(".wps_rma_on_functionality").val(),r=e(this).parent(".add_more_rma_policies").children(".wps_rma_settings").val(),s=e(this);""!=r&&null!=r&&_.forEach((function(_){a==_.name&&null!=_.value&&-1!=e.inArray(r,_.value)&&(alert(wrael_admin_param.wps_policy_already_exist),s.parent(".add_more_rma_policies").remove())})),""==s.val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide()):"wps_rma_maximum_days"==s.val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide()):"wps_rma_order_status"==s.val()?(e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide()):"wps_rma_tax_handling"==s.val()&&(e(this).parent(".add_more_rma_policies").children(".wps_rma_tax_handling").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_order_statues").next().hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_max_number_days").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions1").hide(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions2").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_conditions_label").show(),e(this).parent(".add_more_rma_policies").children(".wps_rma_settings_label").show()),_=[],i()})),e(document).on("submit","#save_policies_setting_form",(function(a){e.each(e(".wps_rma_settings"),(function(){""==e(this).val()&&e(this).parent(".add_more_rma_policies").remove()}))})),e(document).on("click","#wps_rma_add_more",(function(){var a=wrael_admin_param.check_pro_active,r=e(".add_more_rma_policies").last().children(".wps_rma_get_current_i").val();r=parseInt(r)+1;var s=e("#add_more_rma_policies_clone").html();s=o(s,"wps_rma_setting[1]","wps_rma_setting["+r+"]"),s=o(s,"wps_rma_order_statues1","wps_rma_order_statues"),a&&(s=show_correct_field_pro(s)),e("#div_add_more_rma_policies").append('<div class="add_more_rma_policies">'+s+'<input type="button" value="X" class="rma_policy_delete"></div>'),e(".add_more_rma_policies").last().children(".wps_rma_get_current_i").val(r),e(".wps_rma_order_statues").select2(),a&&wps_rma_do_something(),t(),i()})),e(document).on("click",".rma_policy_delete",(function(){e(this).parent(".add_more_rma_policies").remove(),t(),i()})),e(".wps_rma_return_loader").hide(),e(document).on("click","#wps_rma_accept_return",(function(){e("#wps_rma_return_package").hide(),e(".wps_rma_return_loader").show();var a={action:"wps_rma_return_req_approve",orderid:e(this).data("orderid"),date:e(this).data("date"),security_check:wrael_admin_param.wps_rma_nonce};e.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:a,dataType:"json",success:function(a){e(".wps_rma_return_loader").hide(),e(".refund-actions .cancel-action").hide(),window.location.reload()}})})),e(document).on("click","#wps_rma_cancel_return",(function(){e(".wps_rma_return_loader").show();var a={action:"wps_rma_return_req_cancel",orderid:e(this).data("orderid"),date:e(this).data("date"),security_check:wrael_admin_param.wps_rma_nonce};e.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:a,dataType:"json",success:function(a){e(".wps_rma_return_loader").hide(),window.location.reload()}})})),e(document).on("click","#wps_rma_left_amount",(function(){e(this).attr("disabled","disabled");var a=e(this).data("orderid"),r=e(this).data("refund_method"),s=e(".wps_rma_total_amount_for_refund").val();e(".wps_rma_return_loader").show();var _={action:"wps_rma_refund_amount",order_id:a,refund_method:r,refund_amount:s,security_check:wrael_admin_param.wps_rma_nonce};e.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:_,dataType:"json",success:function(a){if(e(".wps_rma_return_loader").show(),""==a.refund_method||"manual_method"==a.refund_method){e("html, body").animate({scrollTop:e("#order_shipping_line_items").offset().top},2e3),e("div.wc-order-refund-items").slideDown(),e("div.wc-order-data-row-toggle").not("div.wc-order-refund-items").slideUp(),e("#woocommerce-order-items").find("div.refund").show(),e("div.wc-order-totals-items").slideUp();var r=e("#wps_rma_refund_reason").val();e("#refund_amount").val(s),e("#refund_reason").val(r);var _=accounting.unformat(s,woocommerce_admin.mon_decimal_point);e("button .wc-order-refund-amount .amount").text(accounting.formatMoney(_,{symbol:woocommerce_admin_meta_boxes.currency_format_symbol,decimal:woocommerce_admin_meta_boxes.currency_format_decimal_sep,thousand:woocommerce_admin_meta_boxes.currency_format_thousand_sep,precision:woocommerce_admin_meta_boxes.currency_format_num_decimals,format:woocommerce_admin_meta_boxes.currency_format}))}else window.location.reload()}})})),e(document).on("click","#wps_rma_stock_back",(function(){e(this).attr("disabled","disabled");var a={action:"wps_rma_manage_stock",order_id:e(this).data("orderid"),type:e(this).data("type"),security_check:wrael_admin_param.wps_rma_nonce};e.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:a,dataType:"json",success:function(a){e(this).removeAttr("disabled"),a.result?(e("#post").prepend('<div class="updated notice notice-success is-dismissible" id="message"><p>'+a.msg+'</p><button class="notice-dismiss" type="button"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),e("html, body").animate({scrollTop:e("body").offset().top},2e3,"linear",(function(){window.setTimeout((function(){window.location.reload()}),1e3)}))):(e("#post").prepend('<div id="messege" class="notice notice-error is-dismissible" id="message"><p>'+a.msg+'</p><button class="notice-dismiss" type="button"><span class="screen-reader-text">Dismiss this notice.</span></button></div>'),e("html, body").animate({scrollTop:jQuer$("body").offset().top},2e3,"linear",(function(){})))}})})),e(document).on("click","#wps_rma_generate_key_setting",(function(a){a.preventDefault();var r={action:"wps_rma_api_secret_key",security_check:wrael_admin_param.wps_rma_nonce};e.ajax({url:wrael_admin_param.ajaxurl,type:"POST",data:r,dataType:"json",success:function(e){window.location.reload()}})})),setTimeout((function(){jQuery(".wps_rma_pro_class").parents(".wps-form-group").addClass("wps_rma_pro_class_wrap")}),1),e("#wps_wrma_ship_products").select2(),e("#wps_enable_ship_setting").is(":checked")?e("#add_fee").show():e("#add_fee").hide(),e("#wps_enable_ship_setting").on("change",(function(){e("#wps_enable_ship_setting").is(":checked")?e("#add_fee").show():e("#add_fee").hide()})),e(".wps_rma_shipping_label_setting").show(),e(".wps_rma_shipping_setting").hide(),e(".wps_rma_shiprocket_setting").hide(),e(".show_returnship_label").addClass("shipClass"),e(".wps_wrma_return_loader").hide(),e(".wps_wrma_returnship_loader").hide(),e(".wps_rma_shiprocket_setting").hide(),e(document).on("click",".show_returnship_label",(function(){e(".wps_rma_shipping_label_setting").show(),e(".show_returnship_label").addClass("shipClass"),e(".show_shipintegration").removeClass("shipClass"),e(".show_shiprocketintegration").removeClass("shipClass"),e(".wps_rma_shipping_setting").hide(),e(".wps_rma_shiprocket_setting").hide()})),e(document).on("click",".show_shipintegration",(function(){e(".wps_rma_shipping_setting").show(),e(".show_shipintegration").addClass("shipClass"),e(".show_returnship_label").removeClass("shipClass"),e(".show_shiprocketintegration").removeClass("shipClass"),e(".wps_rma_shipping_label_setting").hide(),e(".wps_rma_shiprocket_setting").hide()})),e(document).on("click",".show_shiprocketintegration",(function(){e(".wps_rma_shiprocket_setting").show(),e(".show_shiprocketintegration").addClass("shipClass"),e(".show_returnship_label").removeClass("shipClass"),e(".show_shipintegration").removeClass("shipClass"),e(".wps_rma_shipping_label_setting").hide(),e(".wps_rma_shipping_setting").hide()})),e(".button_wps_rma_pro_class").parent("button").prop("disabled",!0),e(".button_wps_rma_pro_div").css("background-color","rgba(0,0,0,.12)"),e(".wps_rma_pro_class_wrap label,.wps_rma_pro_div label").attr("for",""),e(document).on("click",".wps_rma_pro_class_wrap,.wps_rma_pro_div",(function(){e(".wps-rma__popup-for-pro-shadow").show(),e(".wps-rma__popup-for-pro").addClass("active-pro")})),e(document).on("click",".wps-rma__popup-for-pro-close",(function(){e(".wps-rma__popup-for-pro-shadow").hide(),e(".wps-rma__popup-for-pro").removeClass("active-pro")})),e(document).on("click",".wps-rma__popup-for-pro-shadow",(function(){e(this).hide(),e(".wps-rma__popup-for-pro").removeClass("active-pro")})),e(document).on("click",".wps_go_pro_link",(function(a){a.preventDefault(),e(".wps-rma__popup-for-pro-shadow").show(),e(".wps-rma__popup-for-pro").addClass("active-pro")})),e(".button_wps_rma_pro_div").css("pointer-events","none"),e(".wps_rma_date_time_picker1").length>0&&e(".wps_rma_date_time_picker1").timepicker({showPeriod:!0,showLeadingZero:!0}),e(".wps_rma_date_time_picker2").length>0&&e(".wps_rma_date_time_picker2").timepicker({showPeriod:!0,showLeadingZero:!0}),e(document).on("click",".wps-rma-api-container .rma-api-section h2",(function(){console.log("test"),e(this).parent().toggleClass("open")}))}));